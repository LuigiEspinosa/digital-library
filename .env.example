# ---- Required ----

# Minimum 32 random characters.
# Generate with: openssl rand -base64 32
SESSION_SECRET=change_me_to_a_long_random_string

# ---- Environment ----
# 'production' | 'development' | 'test'
# Controls Fastify logger and CORS strictness.
NODE_ENV=production

# ---- API Server ----
# Port and host the Fastify server binds to inside the container.
# No need to change these unless you remap ports in docker-compose.yml.
PORT=4000
HOST=0.0.0.0

# Absolute path to the SQLite database file inside the container.
# The Docker volume mounts ./data → /data, so this resolves correctly.
DATABASE_PATH=/data/library.db

# Internal URL the web container uses to reach the API container.
# Uses Docker's internal DNS — 'api' resolves to the API container.
PUBLIC_API_URL=http://api:4000

# Internal Redis connection string (Docker internal DNS).
REDIS_URL=redis://redis:6379

# ---- Web ----
# The public-facing URL of the site. Used for the CORS allowlist on the API.
WEB_ORIGIN=https://library.cuatro.dev

# ---- Email / Kindle ----
# Gmail App Password setup: myaccount.google.com → Security → App passwords
# Free tier: 500 emails/day
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your.email@gmail.com
SMTP_PASS=your_app_password

# ---- ComicVine API ----
# Free key at comicvine.gamespot.com — generous rate limits.
COMICVINE_API_KEY=
