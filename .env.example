# ---- First-run admin seed ----
# If no users exist on startup, the API will create the first admin automatically.
# Remove or leave blank after first deploy.
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=change_me_strong_password

# ---- Environment ----
# 'production' | 'development' | 'test'
# Controls Fastify logger and CORS strictness.
NODE_ENV=production

# ---- API Server ----
# Port and host the Fastify server binds to inside the container.
# No need to change these unless you remap ports in docker-compose.yml.
PORT=4000
HOST=0.0.0.0

# Absolute path to the SQLite database file inside the container.
# The Docker volume mounts ./data → /data, so this resolves correctly.
DATABASE_PATH=/data/library.db

# Internal URL the web container uses to reach the API container.
# Uses Docker's internal DNS - 'api' resolves to the API container.
PUBLIC_API_URL=http://api:4000

# Internal Redis connection string (Docker internal DNS).
REDIS_URL=redis://redis:6379

# ---- Web ----
# The public-facing URL of the site. Used for the CORS allowlist on the API.
WEB_ORIGIN=https://library.cuatro.dev

# ---- Email / Kindle ----
# Gmail App Password setup: myaccount.google.com → Security → App passwords
# Free tier: 500 emails/day
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your.email@gmail.com
SMTP_PASS=your_app_password

# ---- Hetzner DNS (required for ACME certificate issuance) ----
# Create a DNS API token at: console.hetzner.com → DNS → API tokens
# Caddy uses this to solve DNS-01 challenges and get a Let's Encrypt certificate.
HETZNER_DNS_API_TOKEN=your_hetzner_dns_api_token

# ---- ComicVine API ----
# Free key at comicvine.gamespot.com - generous rate limits.
COMICVINE_API_KEY=

# Inbox auto-import - set to the ID of the library that should receive inbox files
INBOX_LIBRARY_ID=

# Paths inside the container (these match the Docker volume mounts, don't change unless you move volumes)
BOOKS_PATH=/data/books
COVERS_PATH=/data/covers
INBOX_PATH=/data/inbox

# Upload size limit in bytes (default 500MB)
MAX_UPLOAD_BYTES=524288000

